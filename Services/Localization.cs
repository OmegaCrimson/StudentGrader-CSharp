using System;
using System.Collections.Generic;

namespace Services
{
    public static class Localization
    {
        public enum Language
        {
            En,
            Ar
        }

        public static Language CurrentLanguage { get; private set; } = Language.En;

        private static readonly Dictionary<string, string> En = new()
        {
            ["NoticeDatabaseNotFound"] = "Database file was not found at the expected location: {0}",
            ["PromptCreateDatabase"] = "Would you like to create a new database now? (y/n): ",
            ["InfoDatabaseCreated"] = "A new database has been created at: {0}",
            ["InfoExitingProgram"] = "Exiting application.",
            ["NoticeNoUsersFound"] = "No user accounts were detected. An initial administrator account must be created.",
            ["NoticeCreatingAdminAccount"] = "Creating administrator account with username: {0}",
            ["PromptCreateAdminPassword"] = "Please enter a password for the initial administrator account: ",
            ["InfoDatabaseDeleted"] = "Database has been deleted.",
            ["LanguageMenuTitle"] = "Select language: 1=English, 2=Arabic",
            ["LanguageChanged"] = "Language changed to {0}.",
            ["PromptCreateDatabaseAfterDeletion"] = "Would you like to create a new database now? (y/n): "
            ,
            ["InvalidInput"] = "Invalid input. Please try again.",
            ["PressAnyKeyToContinue"] = "Press any key to continue...",
            ["MainHeader"] = "Student Grader",
            ["NoContent"] = "(No content)",
            ["UsersTitle"] = "Users:",
            ["UserOptions"] = "Options: 1=Add User, 2=Delete User, 3=Back",
            ["CannotCreateAdminUser"] = "Cannot create a user with reserved username 'Admin'.",
            ["CannotDeleteAdminUser"] = "Cannot delete the initial admin user.",
            ["BackupPrompt"] = "Enter full path to save backup (.db) or leave empty to save to default backup folder: ",
            ["BackupSaved"] = "Backup saved to: {0}",
            ["BackupFailed"] = "Backup failed: {0}",
            ["ThemeMenuTitle"] = "Select theme: 1=Default, 2=Dark, 3=HighContrast",
            ["ThemeChanged"] = "Theme changed to {0}.",
            ["ExportOptionsTitle"] = "Export Options:\n1=Students (Excel), 2=Students With Subjects (Excel), 3=Students (PDF), 4=Students With Subjects (PDF), 5=Back",
            ["AdminToolsTitle"] = "Admin Tools:\n1=Backup Database, 2=Delete DB, 3=Reset DB, 4=Manage Users, 5=Change Language, 6=Change Theme, 7=Back",
            ["EnterUsername"] = "Username: ",
            ["ChoicePrompt"] = "Choice: ",
            ["EnterPassword"] = "Password: ",
            ["EnterRole"] = "Role (admin/user): ",
            ["UserAdded"] = "User added.",
            ["UserDeleted"] = "User deleted.",
            ["NoAssignments"] = "No assignments to display.",
            ["InvalidPath"] = "Invalid path."
        };

        private static readonly Dictionary<string, string> Ar = new()
        {
            ["NoticeDatabaseNotFound"] = "?? ??? ?????? ??? ??? ????? ???????? ?? ?????? ???????: {0}",
            ["PromptCreateDatabase"] = "?? ???? ?? ????? ????? ?????? ????? ????? (y/n): ",
            ["InfoDatabaseCreated"] = "?? ????? ????? ?????? ????? ??: {0}",
            ["InfoExitingProgram"] = "??? ????? ???????.",
            ["NoticeNoUsersFound"] = "?? ??? ?????? ??? ?????? ????????. ??? ????? ???? ???? ????.",
            ["NoticeCreatingAdminAccount"] = "????? ???? ?????? ???? ????????: {0}",
            ["PromptCreateAdminPassword"] = "???? ????? ???? ???? ????? ?????? ??????: ",
            ["InfoDatabaseDeleted"] = "?? ??? ????? ????????.",
            ["LanguageMenuTitle"] = "???? ?????: 1=??????????? 2=???????",
            ["LanguageChanged"] = "?? ????? ????? ??? {0}.",
            ["PromptCreateDatabaseAfterDeletion"] = "?? ???? ?? ????? ????? ?????? ????? ????? (y/n): "
            ,
            ["InvalidInput"] = "????? ??? ????. ???? ??? ????.",
            ["PressAnyKeyToContinue"] = "???? ?? ????? ????????...",
            ["MainHeader"] = "???? ????? ??????",
            ["NoContent"] = "(?? ???? ?????)",
            ["UsersTitle"] = "??????????:",
            ["UserOptions"] = "????????: 1=????? ??????? 2=??? ??????? 3=????",
            ["CannotCreateAdminUser"] = "?? ???? ????? ?????? ???? 'Admin' ???????.",
            ["CannotDeleteAdminUser"] = "?? ???? ??? ???? ?????? ??????.",
            ["BackupPrompt"] = "???? ?????? ?????? ???? ?????? ?????????? (.db) ?? ????? ?????? ????? ?? ?????? ?????????: ",
            ["BackupSaved"] = "?? ??? ?????? ?????????? ??: {0}",
            ["BackupFailed"] = "??? ????? ?????????: {0}",
            ["ThemeMenuTitle"] = "???? ?????: 1=??????????? 2=?????? 3=???? ???????",
            ["ThemeChanged"] = "?? ????? ????? ??? {0}.",
            ["ExportOptionsTitle"] = "?????? ???????:\n1=?????? (Excel), 2=?????? ?? ?????? (Excel), 3=?????? (PDF), 4=?????? ?? ?????? (PDF), 5=????",
            ["AdminToolsTitle"] = "????? ??????:\n1=??? ??????? ?????? ????????? 2=??? ????? ????????? 3=????? ????? ????? ????????? 4=????? ??????????? 5=????? ?????? 6=????? ?????? 7=????",
            ["EnterUsername"] = "??? ????????: ",
            ["ChoicePrompt"] = "????????: ",
            ["EnterPassword"] = "???? ??????: ",
            ["EnterRole"] = "????? (admin/user): ",
            ["UserAdded"] = "??? ????? ????????.",
            ["UserDeleted"] = "?? ??? ????????.",
            ["InvalidPath"] = "???? ??? ????."
        };

        // small helper key for choice prompt
        // (kept outside dictionaries to avoid repeating existing structure)

        public static string Get(string key)
        {
            return CurrentLanguage switch
            {
                Language.Ar => Ar.ContainsKey(key) ? Ar[key] : key,
                _ => En.ContainsKey(key) ? En[key] : key,
            };
        }

        public static void SetLanguage(Language lang)
        {
            CurrentLanguage = lang;
        }
    }
}
